var $=$.noConflict(),http=null;function show_msge(s,e){$("#savedresult").remove(),$("body").prepend('<div id="savedresult" class="alert"></div>'),$("#savedresult").removeClass("alert-success").addClass("alert-danger"),$("#savedresult").html(s),show_saved_msg(e)}function show_msg(s,e){$("#savedresult").remove(),$("body").prepend('<div id="savedresult" class="alert"></div>'),$("#savedresult").removeClass("alert-danger").addClass("alert-success"),$("#savedresult").html(s),show_saved_msg(e)}function show_saved_msg(s){""!=s&&0!=s&&null!=s||(s=3e3),$("#statusinfo").hide(),$("#savedresult").css("position","fixed"),$("#savedresult").css("z-index","1066"),$("#savedresult").css("top","50%"),$("#savedresult").css("left","50%"),$("#savedresult").css("transform","translate(-50%, -50%)"),$("#savedresult").fadeIn(),setTimeout('$("#savedresult").fadeOut();',s)}function before_axform_submit(s,e,t){1==t.showspinner&&$(t.target).html('<i class="fa fa-spinner fa-spin"></i>');$.param(s);return!0}$.extend({getUrlVars:function(s){for(var e,t={},a=s.substring(s.indexOf("?")+1).split("&"),o=0;o<a.length;o++)t[(e=a[o].split("="))[0]]=e[1];return t}});var axform_success=function(s,e,t,a){fwstart()};function init_auto_ax_submit(){$(".axform").unbind("submit"),$(".axform").submit(function(){var s={type:"POST",forceSync:!0,target:$(this).data("target"),showspinner:$(this).data("showspinner"),beforeSubmit:before_axform_submit,success:axform_success};if($(this).ajaxSubmit(s),$(this).parent().hasClass("modal-content")){var e=$(this).parent().parent().parent().attr("id");$("#"+e).modal("hide")}return!1})}function set_ajax_links(){$(".ajax-link").unbind("click"),$(".ajax-link").css("cursor","pointer"),$(".ajax-link").click(function(s){s.preventDefault();var e="wrapper";""!=$(this).data("target")&&(e=$(this).data("target")),void 0==e&&(e="wrapper"),simple_load(e,$(this).attr("href"),!0)})}function jsonexec(url,showok){0!=showok&&(showok=!0),$.getJSON(url,function(data){""!=data.msge?show_msge(data.msge,3e3):1==showok&&(show_msg(data.msg,3e3),""!=data.jsfunction&&(eval(data.jsfunction+"()"),fwstart()),$("input[type=file]").val(""))})}function simple_load(s,e,t){""!=t&&null!=t&&void 0!==t&&$("#"+s).length>0?$("#"+s).html('<img class="axloader" src="'+t+'" border="0">'):$("#"+s).html('<img class="axloader" src="/images/axloader.gif">'),$.ajax({url:e+"&axcall=1",cache:!0,success:function(e){""!=s&&$("#"+s).html(e),fwstart()}})}function simple_append(s,e){$.ajax({url:e+"&axcall=1",cache:!0,success:function(e){""!=s&&$("#"+s).append(e),fwstart()}})}function execrequest(s){$.ajax({url:s+"&axcall=1",cache:!0,success:function(s){}})}function simple_load_sync(s,e){$.ajax({url:e+"&axcall=1",cache:!1,async:!1,success:function(e){""!=s&&$("#"+s).html(e),fwstart()}})}function simple_load_nocache(s,e){$.ajax({url:e+"&axcall=1",cache:!1,success:function(e){$("#"+s).length>0&&$("#"+s).html(e)}})}function simple_get(s,e,t,a){""!=a&&null!=a&&void 0!==a&&$("#"+s).length>0&&$("#"+s).html('<img src="'+a+'" border="0">'),simple_load_nocache(s,e+"?"+t)}function simple_post(s,e,t,a){""!=a&&$("#"+s).html('<img src="'+a+'" border="0">');var o=e+"?"+t,n=$.getUrlVars(o);$.ajax({type:"POST",dataType:"html",data:n,url:e,cache:!1,async:!1,success:function(e){""!=s&&$("#"+s).html(e)}})}function checkKeyPress(s,e){return!(s.which&&13==s.which||s.keyCode&&13==s.keyCode)||(document.getElementById(e).click(),!1)}function dc_show(s,e){$(".global_black").remove(),$("body").prepend('<div class="global_black"></div>'),$(".global_black").css("height",$.getDocHeight()),$(".global_black").css("z-index",999),$(".global_black").show(),$(".global_black").click(function(){dc_remove(s)}),$("#"+s).prepend('<div style="float:right;" class="dc-close-link"><a href="javascript:void(0)" title="close" onClick="dc_closeLink(this);"><img id="closeicon-divframe" src="/images/opt_close.png" border="0"></a></div>'),$("#"+s).width(e),$("#"+s).css("position","absolute"),$("#"+s).css("z-index",1e3),$("#"+s).css("top",($(window).height()-$("#"+s).outerHeight())/2+$(window).scrollTop()+"px"),$("#"+s).css("left",($(window).width()-$("#"+s).outerWidth())/2+$(window).scrollLeft()+"px"),$("#"+s).outerHeight()>$(window).height()?($("#"+s).css("height",$(window).height()-300),$("#"+s).css("top",($(window).height()-$("#"+s).outerHeight())/2+$(window).scrollTop()+"px")):$("#"+s).css("height","auto"),$("#"+s).fadeIn(),$("#"+s).css("display","block")}function close_show_box(){$("#show_box").fadeOut(),$("#ah_content_table").show(),$(".global_black").remove(),$("#adminheader").css("z-index","1")}function print_show_box(){$("#show_box_iframe").get(0).contentWindow.print()}function add_show_box(s,e,t,a,o){return add_show_box_iframe(s,o,e+="px",t+="px"),!1}function add_show_box_tpl(s,e){return $("#modal_frame").remove(),$("body").prepend('<div class="modal fade" id="modal_frame" tabindex="-1" role="dialog" aria-labelledby="modal_frameLabel" aria-hidden="true"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button><h4 class="modal-title" id="modal_frameLabel">'+e+'</h4></div><div class="modal-body" id="showboxcontent"></div></div></div></div>'),$("#modal_frame").modal("show"),simple_load("showboxcontent",s),!1}function add_show_box_iframe(s,e,t,a){return""!=e&&null!=e&&e||(e="&nbsp;"),$("#modal_frame").remove(),$("body").prepend('<div class="modal fade" id="modal_frame" tabindex="-1" role="dialog" aria-labelledby="modal_frameLabel" aria-hidden="true"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="btn btn-default pull-right" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button><button class="btn btn-default pull-right" type="button" onclick="print_show_box()"><i class="fa fa-print"></i></button><h4 class="modal-title" id="modal_frameLabel">'+e+'</h4></div><div class="modal-body" id="showboxcontent"><iframe id="show_box_iframe" class="embed-responsive-itemx" src="'+s+'"></iframe></div></div></div></div>'),""!=t&&null!=t&&t||(t=.7*$(window).width()+"px"),""!=a&&null!=a&&a||(a="auto"),$(".modal .modal-dialog").css("width",t),$(".modal .modal-dialog").css("height","auto"),$(".modal-content").css("height","auto"),$("#show_box_iframe").css("height",a),$("#show_box_iframe").css("width","100%"),$("#showboxcontent").css("height","100%"),$("#modal_frame").modal("show"),!1}function dc_remove(s){$("#"+s).fadeOut(),$(".global_black").remove(),$(".dc-close-link").remove()}function dc_closeLink(s){dc_remove(s.parentNode.parentNode.id)}function dc_init(){$(".divframe").hide()}function changeClass(s,e){document.getElementById(s).setAttribute("class",e)}function before_json_submit(s,e,t){$.param(s);return!0}function show_saved_msg(s){""!=s&&0!=s&&null!=s||(s=1e3),$("#statusinfo").hide(),$("#savedresult").css("position","fixed"),$("#savedresult").css("z-index","999"),$("#savedresult").css("top","50%"),$("#savedresult").css("left","50%"),$("#savedresult").css("transform","translate(-50%, -50%)"),$("#savedresult").fadeIn(),setTimeout('$("#savedresult").fadeOut();',s),$("#feedbackmsg").hide()}function show_json_answer(responseText,statusText,xhr,$form){var obj=jQuery.parseJSON(responseText);$("#savedresult").remove(),$("body").prepend('<div id="savedresult"></div>'),""!=obj.msge?($("#savedresult").html(obj.msge),$("#savedresult").removeClass("alert-success").removeClass("text-success").addClass("alert-danger").addClass("text-danger"),show_saved_msg(6e3)):($("#savedresult").removeClass("alert-danger").removeClass("text-danger").addClass("alert-success").addClass("text-success"),$("#savedresult").html(obj.msg),show_saved_msg(),""!=obj.jsfunction&&eval(obj.jsfunction+"("+obj.jsparams+")"),$("input[type=file]").val(""))}function init_autojson_submit(){var s={type:"POST",forceSync:!0,beforeSubmit:before_json_submit,success:show_json_answer};$(".jsonform").unbind("submit"),$(".jsonform").submit(function(){return $(this).ajaxSubmit(s),!1})}function set_ajaxdel_icon(){$(".deljson").unbind("click"),$(".deljson").click(function(){var r=!0;if("1"==$(this).data("confirm"))var r=confirm($(this).data("ctext"));if(1==r){var url=$(this).data("phpfile")+"?page="+$(this).data("page")+"&cmd="+$(this).data("cmd")+"&ident="+$(this).data("ident")+"&"+$(this).data("toadd"),icon=$(this);$.getJSON(url,function(data){""!=data.msge?show_msge(data.msge):(icon.closest("tr").fadeTo(100,0,function(){$(this).remove()}),""!=data.jsfunction&&eval(data.jsfunction+"()"))})}return!1})}function set_json_links(){$(".json-link").unbind("click"),$(".json-link").css("cursor","pointer"),$(".json-link").click(function(s){s.preventDefault(),jsonexec($(this).attr("href"),!0)})}function set_data_bgi(){$("[data-bgi]").each(function(){$(this).css("background-image","url("+$(this).data("bgi")+")")}),$("[data-bgp]").each(function(){$(this).css("background-position","url("+$(this).data("bgp")+")")})}function fwstart(){init_autojson_submit(),set_ajaxdel_icon(),init_auto_ax_submit(),set_ajax_links(),set_json_links(),set_data_bgi()}function load_json_form(s,e){$("#"+e).trigger("reset"),$.getJSON(s,function(s){$.each(s,function(s,t){$(".js-"+s).length>0&&$("#"+e+" .js-"+s).val(t)})})}$.getDocHeight=function(){var s=document;return Math.max(Math.max(s.body.scrollHeight,s.documentElement.scrollHeight),Math.max(s.body.offsetHeight,s.documentElement.offsetHeight),Math.max(s.body.clientHeight,s.documentElement.clientHeight))},$(document).ready(function(){fwstart()});