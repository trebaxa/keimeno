INSERT INTO `!!TBL_PREFIX!!templates` SET description='Google Maps', admin='0', approval='1', morder='0', php='modules/gmap/gmap.inc', intern_aktion='', c_type='T', block_name='', tl='1', parent='0', gbl_template='1', url_redirect_target='_self', url_redirect='', first_page='0', no_fck='1', tpl_name='fe_google-maps', layout_group='1', has_perm='0', sf_host='', show_rss_link='0', module_id='content', is_startsite='0', modident='gmap', is_framework='0', use_framework='1', tid_childs='', gui_frame='1', canonical_url='', perma_link_matrix='', xml_sitemap='1', t_class='', t_attributes='', t_java='function init_gmap_app() {\r\n  $( \".js-load-gmap\" ).each(function( index ) {\r\n    init_gmap($(this).attr(\'id\'),$(this).data(\'name\'),$(this).data(\'str\'),$(this).data(\'plz\'),$(this).data(\'city\'),$(this).data(\'width\'),$(this).data(\'height\'));\r\n  });\r\n}\r\n\r\nfunction init_gmap(container,name,street,plz,city,width,height) {\r\n  var marker,geocoder, map;\r\n    document.getElementById(container).style.width= width;\r\n    document.getElementById(container).style.height= height;\r\n    geocoder = new google.maps.Geocoder();\r\n    geocoder.geocode({\r\n        \'address\': street+\', \'+plz+\' \'+city\r\n    }, function(results, status) {\r\n        if (status == google.maps.GeocoderStatus.OK) {\r\n            var myOptions = {\r\n                zoom: 15,\r\n                scrollwheel:false,\r\n                center: results[0].geometry.location,\r\n                mapTypeId: google.maps.MapTypeId.ROADMAP,\r\n                styles: [{\"featureType\":\"all\",\"elementType\":\"all\",\"stylers\":[{\"saturation\":-100},{\"gamma\":0.5}]}]\r\n            };\r\n            map = new google.maps.Map(document.getElementById(container), myOptions);\r\n\r\n            var marker = new google.maps.Marker({\r\n              position: results[0].geometry.location,\r\n              map: map,\r\n              title: \'<% $gbl_config.adr_firma %>\'\r\n            });\r\n            var contentString = \'<b><i class=\"fa fa-home\"></i> \'+name+\'</b><br>\'+street+\r\n            \'<br>\'+plz+\' \'+city+\'<br><br>\'+\r\n            \'<a href=\"http://maps.google.com/maps?daddr=\'+results[0].geometry.location.lat()+\',\'+results[0].geometry.location.lng()+\'\" target=\"_blank\"><b>Start Navigation</b></a>\';\r\n            \r\n            var infowindow = new google.maps.InfoWindow({\r\n              content: contentString\r\n            });\r\n            \r\n            marker.setMap(map);\r\n            infowindow.open(map, marker);\r\n            \r\n            marker.addListener(\'click\', function() {\r\n              infowindow.open(map, marker);\r\n            });\r\n        }\r\n    });\r\n};\r\n'
